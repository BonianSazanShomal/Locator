{
    "version": 2,
    "shared": {
        "notification_email": "mojito-next@yahoo-inc.com",
        "build_container": "node8",
        "compilers": {
            "updateversion": {
                "compiler": "updateversion",
                "config": { "type": "patch" }
            }
        },
        "build": {
            "lint": {
                "task": "script",
                "command": "ynpm run pretest",
                "after": "echo 'No Errors' >${LINT_OUTPUT_DIR}/jslint.html"
            }
        }
    },
    "jobs": {
        "component": {
            "build": {
                "custom": {
                    "compile_commands": [
                        "updateversion"
                    ]
                },
                "test": {
                    "task": "script",
                    "command": "node node_modules/istanbul/lib/cli.js cover --dir ${COVERAGE_DIR} -- ./node_modules/mocha/bin/_mocha tests/lib/*.js --reporter xunit-file",
                    "after": [
                        "mv xunit.xml ${TEST_RESULTS_DIR}/"
                    ]
                }
            }
        }
    }
}
